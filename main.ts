namespace SpriteKind {
    export const Basket = SpriteKind.create()
    export const thing = SpriteKind.create()
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    myDart.throwDart()
})
info.onCountdownEnd(function () {
    if (5 >= score) {
        game.splash("You win!")
        game.over(true)
    } else {
        game.splash("You lose!")
        game.over(false)
    }
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Basket, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    myDart.sprite.destroy()
    dartSpawn()
})
function dartSpawn () {
    myDart = darts.create(img`
        . . . . 4 4 4 4 f 4 4 4 4 . . . . 
        . . . 4 4 4 4 4 f 4 4 4 4 4 . . . 
        . . f 4 4 4 4 4 f 4 4 4 4 4 f . . 
        . 4 4 f 4 4 4 4 f 4 4 4 4 f 4 4 . 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        f f f f f f f f f f f f f f f f f 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        . 4 4 f 4 4 4 4 f 4 4 4 4 f 4 4 . 
        . . f 4 4 4 4 4 f 4 4 4 4 4 f . . 
        . . . 4 4 4 4 4 f 4 4 4 4 4 . . . 
        . . . . 4 4 4 4 f 4 4 4 4 . . . . 
        `, SpriteKind.Projectile)
    myDart.sprite.setPosition(randint(10, 150), 106)
    myDart.setTrace()
    myDart.controlWithArrowKeys()
}
let myDart: Dart = null
let score = 0
scene.setBackgroundColor(12)
dartSpawn()
let basket = sprites.create(img`
    ................
    111111111111111.
    111111111111111.
    111222222222111.
    111211111112111.
    111211111112111.
    111211111112111.
    111211111112111.
    111211111112111.
    111211111112111.
    111222fff222111.
    1111ff111ff1111.
    111f1111111f111.
    11f111111111f11.
    ...f...e...f....
    ....ff.e.ff.....
    ......fff.......
    .......e........
    .......e........
    .......e........
    .......e........
    .......e........
    .......e........
    .......e........
    .......e........
    ....eeeeeee.....
    ................
    ................
    ................
    ................
    `, SpriteKind.Basket)
info.setScore(0)
info.startCountdown(30)
score = info.score()
let floor = sprites.create(img`
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444.
    44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
    `, SpriteKind.thing)
floor.setPosition(80, 110)
