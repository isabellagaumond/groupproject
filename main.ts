namespace SpriteKind {
    export const Basket = SpriteKind.create()
    export const thing = SpriteKind.create()
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    myDart.throwDart()
})
info.onCountdownEnd(function () {
    if (info.score() >= 5) {
        game.splash("You win!")
        game.over(true)
    } else {
        game.splash("You lose!")
        game.over(false)
    }
})
function ballSpawn () {
    myDart = darts.create(img`
        . . . . 4 4 4 4 f 4 4 4 4 . . . . 
        . . . 4 4 4 4 4 f 4 4 4 4 4 . . . 
        . . f 4 4 4 4 4 f 4 4 4 4 4 f . . 
        . 4 4 f 4 4 4 4 f 4 4 4 4 f 4 4 . 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        f f f f f f f f f f f f f f f f f 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        4 4 4 4 f 4 4 4 f 4 4 4 f 4 4 4 4 
        . 4 4 f 4 4 4 4 f 4 4 4 4 f 4 4 . 
        . . f 4 4 4 4 4 f 4 4 4 4 4 f . . 
        . . . 4 4 4 4 4 f 4 4 4 4 4 . . . 
        . . . . 4 4 4 4 f 4 4 4 4 . . . . 
        `, SpriteKind.Projectile)
    myDart.sprite.setPosition(randint(10, 150), 106)
    myDart.setTrace()
    myDart.controlWithArrowKeys()
}
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Basket, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    myDart.sprite.destroy()
    basket.setPosition(randint(20, 100), randint(30, 60))
    ballSpawn()
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.thing, function (sprite, otherSprite) {
    myDart.sprite.destroy()
    ballSpawn()
})
let myDart: Dart = null
let basket: Sprite = null
scene.setBackgroundColor(12)
ballSpawn()
basket = sprites.create(img`
    ...................
    ...................
    ...................
    ...................
    ...................
    ...................
    ...................
    ...................
    ...................
    ...................
    ...................
    ...4444444444444...
    .441...1...1...144.
    4.1.1.1.1.1.1.1.1.4
    14441.1.1.1.1.14441
    1.1.44444444444.1.1
    .1.1.1...1...1.1.1.
    .11.1.1.1.1.1.1.11.
    .1..1.1.1.1.1.1..1.
    ..11...1...1...11..
    ..1.1.1.1.1.1.1.1..
    ...21.1.1.1.1.12...
    ...2.1.2.1.2.1.2...
    ....2.2.2.2.2.2....
    .....22.2.2.22.....
    .....2.2.8.2.2.....
    ......8.8.8.8......
    ......8.8.8.8......
    ......8.8.8.8......
    ......88.8.88......
    `, SpriteKind.Basket)
info.setScore(0)
info.startCountdown(60)
let floor = sprites.create(img`
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ........................................................................................................................................................................................................
    ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd.
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    `, SpriteKind.thing)
floor.setPosition(80, 110)
